name = "kostannisa-worker"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# ── D1 Database ──────────────────────────────────
[[d1_databases]]
binding = "DB"
database_name = "kost-annisa-db"
database_id = "113c8b4b-26bd-4b7b-ad5f-c8501db5ae3e"
migrations_dir = "migrations"

# ── R2 Bucket ────────────────────────────────────
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "kost-annisa-files"
preview_bucket_name = "kost-annisa-files-preview"

# ── Environment Variables (non-secret) ───────────
[vars]
APP_ORIGINS = "https://kosannisa.my.id,http://localhost,capacitor://localhost"
PROPERTY_ID = "prop_kostannisa"
# Secrets moved to `wrangler secret put`:
#   RESEND_API_KEY
#   TELEGRAM_BOT_TOKEN
#   GROQ_API_KEY
#   JWT_SECRET

# ── Cron Triggers ────────────────────────────────
# [triggers]
# crons = ["0 2 * * *"]   # 09:00 WIB = 02:00 UTC

# ──────────────────────────────────────────────────
# Secrets (set via `wrangler secret put`):
#   GEMINI_API_KEY
#   GOOGLE_SERVICE_ACCOUNT_JSON
#   SHEETS_SPREADSHEET_ID
#   SHEETS_INCOME_SHEET_NAME
#   SHEETS_EXPENSE_SHEET_NAME
